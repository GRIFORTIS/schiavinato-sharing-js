# Run full test suite with coverage before pushing
npm run test:coverage

# Run timing/side-channel harness for constant-time validation
echo "Running timing harness for constant-time validation..."
npx vitest run test/timing.test.ts

# Build to ensure no build errors
npm run build